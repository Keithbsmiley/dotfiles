#!/usr/bin/env bash

set -e

branch="origin"
if [[ $# == 1 ]];then
    branch=$1
fi

remotes=($(git remote -v | awk "{ print \$1, \$2; }" | uniq))
for i in ${!remotes[@]}
do
    if [[ $branch == ${remotes[$i]} ]];then
        url=${remotes[$i + 1]}
    fi
done

if [[ $url == "" ]];then
    echo "No remotes found for $branch"
else
    open $url
fi

